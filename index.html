<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Gastos Personales</title>
    <link rel="stylesheet" href="estilos.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Control de Gastos Personales</h1>
    </header>

    <main>
        <section id="seccion-formulario">
            <div class="tarjeta">
                <h2>Nueva Transacción</h2>
                <form id="formulario-transaccion">
                    <div class="grupo-formulario">
                        <label for="monto">Monto</label>
                        <div class="input-container">
                            <i data-feather="dollar-sign" class="input-icon"></i>
                            <input type="number" id="monto" name="monto" step="0.01" min="0.01" required aria-required="true">
                        </div>
                    </div>

                    <div class="grupo-formulario">
                        <label for="tipo">Tipo</label>
                        <div class="input-container">
                            <i data-feather="repeat" class="input-icon"></i>
                            <select id="tipo" name="tipo" required>
                                <option value="ingreso">Ingreso</option>
                                <option value="gasto">Gasto</option>
                            </select>
                        </div>
                    </div>

                    <div class="grupo-formulario">
                        <label for="categoria">Categoría</label>
                        <div class="input-container">
                            <i data-feather="tag" class="input-icon"></i>
                            <select id="categoria" name="categoria" required>
                                <option value="sin clasificar">Sin clasificar</option>
                                <option value="otro">Otra categoría</option>
                            </select>
                        </div>
                    </div>

                    <div class="grupo-formulario" id="contenedor-otra-categoria" style="display: none;">
                        <label for="otra-categoria">Nueva Categoría</label>
                        <div class="input-container">
                            <i data-feather="plus-circle" class="input-icon"></i>
                            <input type="text" id="otra-categoria" name="otra-categoria" placeholder="Nombre de la nueva categoría">
                        </div>
                    </div>

                    <div class="grupo-formulario">
                        <label for="descripcion">Descripción</label>
                        <div class="input-container">
                            <i data-feather="file-text" class="input-icon"></i>
                            <input type="text" id="descripcion" name="descripcion" placeholder="Descripción opcional">
                        </div>
                    </div>

                    <div class="grupos-botones">
                        <div class="grupo-botones grupo-gestion">
                            <button type="submit" aria-label="Agregar transacción">
                                <i data-feather="plus" aria-hidden="true"></i>
                                Agregar
                            </button>
                        </div>

                        <div class="grupo-botones grupo-datos">
                            <button type="button" id="exportar-excel">
                                <i data-feather="file-text"></i>
                                Excel
                            </button>
                            <button type="button" id="exportar-pdf">
                                <i data-feather="file"></i>
                                PDF
                            </button>
                            <button type="button" id="exportar-json">
                                <i data-feather="save"></i>
                                Exportar
                            </button>
                            <label for="importar-json" class="boton-exportar">
                                <i data-feather="upload"></i>
                                Importar
                                <input type="file" id="importar-json" accept=".json" class="hidden">
                            </label>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <section id="seccion-resumen">
            <div class="tarjetas-resumen">
                <div id="saldo-total" class="tarjeta">
                    <h3>Saldo Total</h3>
                    <p>$<span id="saldo">0.00</span></p>
                </div>
                <div class="tarjeta">
                    <h3>Total Ingresos</h3>
                    <p>$<span id="ingresos">0.00</span></p>
                </div>
                <div class="tarjeta">
                    <h3>Total Gastos</h3>
                    <p>$<span id="gastos">0.00</span></p>
                </div>
            </div>

            <div class="tarjeta">
                <h3>Resumen por Categoría</h3>
                <ul id="lista-categoria"></ul>
            </div>
        </section>

        <section id="seccion-historial">
            <h2>Historial de Transacciones</h2>
            <div id="lista-transacciones"></div>
        </section>
    </main>

    <div id="mensajes"></div>

    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
    <script src="script.js" defer></script>
    <script>
        feather.replace();
    </script>
</body>
</html>

